<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <!-- Ø£Ø­Ø¯Ø« ÙˆØ£Ù‚ÙˆÙ‰ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª: CSS Variables, Flex/Grid, Modern Fonts, Smooth Animations -->
    <style>
        /* Ù…ØªØºÙŠØ±Ø§Øª CSS Ù„Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„ - Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± */
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #7c3aed;
            --accent: #f59e0b;
            --dark: #0f172a;
            --light: #f8fafc;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --font-main: 'Tajawal', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* ØªØ­Ù…ÙŠÙ„ Ø®Ø· Tajawal Ø§Ù„Ø¹ØµØ±ÙŠ */
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap');

        /* Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…ØªØ·ÙˆØ±Ø© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--light);
            position: relative;
            overflow-x: hidden;
        }

        /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© Ù…ØªØ·ÙˆØ±Ø© */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQwMCIgaGVpZ2h0PSI5MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiIGlkPSJhIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4wNSIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHBhdGggZD0iTTAgMGgxNDAwdjkwMEgweiIgZmlsbD0idXJsKCNhKSIvPjwvc3ZnPg==') repeat;
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨ØªØ£Ø«ÙŠØ± Ø²Ø¬Ø§Ø¬ÙŠ Ø­Ø¯ÙŠØ« */
        .header {
            background: var(--glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            padding: 30px 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            text-align: center;
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(to right, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨Ø© - CSS Grid Ø§Ù„Ø­Ø¯ÙŠØ« */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª - ØªØµÙ…ÙŠÙ… Ø²Ø¬Ø§Ø¬ÙŠ Ø¹ØµØ±ÙŠ */
        .service-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.6s ease-out backwards;
            display: flex;
            flex-direction: column;
        }

        .service-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 35px 60px -15px rgba(0, 0, 0, 0.6);
        }

        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            color: #fff;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .card-title i {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #fff, #c7d2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card-content {
            flex: 1;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* ========== Ø§Ù„Ù…Ø°ÙƒØ±Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø© ========== */
        .notes-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .notes-list {
            list-style: none;
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
            padding: 5px;
        }

        .notes-list li {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: 0.2s;
        }

        .notes-list li:hover {
            background: rgba(255,  â€Œ255, 255, 0.2);
            transform: translateX(-5px);
        }

        .delete-note {
            background: none;
            border: none;
            color: #ff6b6b;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0 8px;
            transition: 0.2s;
        }

        .delete-note:hover {
            color: #ff4757;
            transform: scale(1.2);
        }

        .note-input {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }

        .note-input input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            border-radius: 50px;
            font-family: var(--font-main);
            font-size: 1rem;
            color: white;
            transition: 0.3s;
        }

        .note-input input:focus {
            outline: none;
            border-color: var(--accent);
            background: rgba(0, 0, 0, 0.5);
        }

        .note-input input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .note-input button {
            background: linear-gradient(135deg, var(--accent), #fbbf24);
            border: none;
            border-radius: 50px;
            width: 55px;
            height: 55px;
            font-size: 1.8rem;
            color: white;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .note-input button:hover {
            transform: rotate(90deg) scale(1.1);
            background: linear-gradient(135deg, #fbbf24, var(--accent));
        }

        /* ========== Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ========== */
        .calculator {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 20px;
        }

        .calc-display {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 25px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
            direction: ltr;
        }

        #calc-result {
            width: 100%;
            background: transparent;
            border: none;
            color: white;
            font-size: 2.5rem;
            font-family: 'Courier New', monospace;
            text-align: right;
            direction: rtl;
        }

        #calc-result:focus {
            outline: none;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .calc-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 20px 5px;
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: 0.2s;
            font-family: var(--font-main);
        }

        .calc-btn:hover {
            background: var(--primary);
            transform: scale(0.95);
            border-color: white;
        }

        .calc-btn.operator {
            background: rgba(245, 158, 11, 0.3);
            color: #fcd34d;
        }

        .calc-btn.operator:hover {
            background: var(--accent);
            color: white;
        }

        .calc-btn.equals {
            background: linear-gradient(135deg, #10b981, #059669);
            grid-column: span 2;
        }

        /* ========== Ø³Ø§Ø¹Ø© Ù…ÙƒØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ========== */
        .clock-container {
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 30px;
        }

        .makkah-clock {
            font-size: 5rem;
            font-weight: 900;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 20px var(--accent);
            margin: 20px 0;
            direction: ltr;
        }

        .clock-date {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: #e0e7ff;
        }

        .prayer-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .prayer-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 15px 10px;
            text-align: center;
            transition: 0.2s;
        }

        .prayer-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .prayer-name {
            font-size: 1.1rem;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .prayer-time {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent);
        }

        /* ========== Ø£Ø´ÙŠØ§Ø¡ Ø£Ø®Ø±Ù‰ Ù…ØªØ¹Ø¯Ø¯Ø© ========== */
        .extra-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .extra-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            padding: 30px;
            animation: fadeInUp 0.8s ease-out backwards;
        }

        .weather-widget {
            display: flex;
            align-items: center;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .weather-icon {
            font-size: 4rem;
        }

        .weather-temp {
            font-size: 3rem;
            font-weight: 700;
        }

        .quran-ayah {
            font-size: 1.5rem;
            line-height: 2;
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
        }

        .quran-source {
            text-align: left;
            opacity: 0.7;
        }

        /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
        .footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            background: var(--glass);
            backdrop-filter: blur(8px);
            border-radius: 40px;
            border: 1px solid var(--glass-border);
        }

        /* Ù…Ø¤Ø«Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .badge {
            background: linear-gradient(135deg, var(--accent), #fbbf24);
            color: var(--dark);
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 10px;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            border: 3px solid transparent;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
        <header class="header">
            <h1>âš¡ Ø¨Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© âš¡</h1>
            <p>Ù…Ø°ÙƒØ±Ø© Â· Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Â· Ø³Ø§Ø¹Ø© Ù…ÙƒØ© Â· Ù‚Ø±Ø¢Ù† Â· Ø·Ù‚Ø³ Â· ÙˆØ§Ù„Ù…Ø²ÙŠØ¯</p>
        </header>

        <!-- Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Grid 3 Ø£Ø¹Ù…Ø¯Ø© -->
        <div class="services-grid">
            <!-- 1. Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø°ÙƒØ±Ø© -->
            <div class="service-card" style="animation-delay: 0.1s;">
                <div class="card-title">
                    <span>ğŸ“</span>
                    <span>Ø§Ù„Ù…Ø°ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠØ©</span>
                </div>
                <div class="card-content">
                    <div class="notes-container">
                        <ul id="notesList" class="notes-list">
                            <!-- Ø§Ù„Ù…Ø°ÙƒØ±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </ul>
                        <div class="note-input">
                            <input type="text" id="noteInput" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©...">
                            <button id="addNoteBtn">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© -->
            <div class="service-card" style="animation-delay: 0.2s;">
                <div class="card-title">
                    <span>ğŸ§®</span>
                    <span>Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©</span>
                </div>
                <div class="card-content">
                    <div class="calculator">
                        <div class="calc-display">
                            <input type="text" id="calc-result" value="0" readonly>
                        </div>
                        <div class="calc-buttons">
                            <button class="calc-btn" onclick="appendToCalc('7')">7</button>
                            <button class="calc-btn" onclick="appendToCalc('8')">8</button>
                            <button class="calc-btn" onclick="appendToCalc('9')">9</button>
                            <button class="calc-btn operator" onclick="appendToCalc('/')">Ã·</button>
                            
                            <button class="calc-btn" onclick="appendToCalc('4')">4</button>
                            <button class="calc-btn" onclick="appendToCalc('5')">5</button>
                            <button class="calc-btn" onclick="appendToCalc('6')">6</button>
                            <button class="calc-btn operator" onclick="appendToCalc('*')">Ã—</button>
                            
                            <button class="calc-btn" onclick="appendToCalc('1')">1</button>
                            <button class="calc-btn" onclick="appendToCalc('2')">2</button>
                            <button class="calc-btn" onclick="appendToCalc('3')">3</button>
                            <button class="calc-btn operator" onclick="appendToCalc('-')">-</button>
                            
                            <button class="calc-btn" onclick="appendToCalc('0')">0</button>
                            <button class="calc-btn" onclick="appendToCalc('.')">.</button>
                            <button class="calc-btn" onclick="clearCalc()">C</button>
                            <button class="calc-btn operator" onclick="appendToCalc('+')">+</button>
                            
                            <button class="calc-btn equals" onclick="calculateResult()">=</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. Ø¨Ø·Ø§Ù‚Ø© Ø³Ø§Ø¹Ø© Ù…ÙƒØ© -->
            <div class="service-card" style="animation-delay: 0.3s;">
                <div class="card-title">
                    <span>ğŸ•‹</span>
                    <span>Ø³Ø§Ø¹Ø© Ù…ÙƒØ©</span>
                </div>
                <div class="card-content">
                    <div class="clock-container">
                        <div class="badge">Ø¨ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©</div>
                        <div id="makkahClock" class="makkah-clock">--:--:--</div>
                        <div id="makkahDate" class="clock-date">...</div>
                        <div class="prayer-times" id="prayerTimes">
                            <!-- Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø£Ø´ÙŠØ§Ø¡ Ø£Ø®Ø±Ù‰ Ø¥Ø¶Ø§ÙÙŠØ© -->
        <div class="extra-grid">
            <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ù‚Ø³ -->
            <div class="extra-card" style="animation-delay: 0.4s;">
                <div class="card-title">
                    <span>â˜ï¸</span>
                    <span>Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ù…ÙƒØ©</span>
                </div>
                <div class="weather-widget">
                    <div class="weather-icon" id="weatherIcon">â˜€ï¸</div>
                    <div class="weather-temp" id="weatherTemp">38Â°</div>
                    <div class="weather-desc" id="weatherDesc">Ù…Ø´Ù…Ø³</div>
                </div>
            </div>

            <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† -->
            <div class="extra-card" style="animation-delay: 0.5s;">
                <div class="card-title">
                    <span>ğŸ“–</span>
                    <span>Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…</span>
                </div>
                <div class="quran-ayah" id="quranAyah">
                    Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙÙ…ÙÙ„ÙØ§Ø¦ÙÙƒÙØªÙÙ‡Ù ÙŠÙØµÙÙ„ÙÙ‘ÙˆÙ†Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù†ÙÙ‘Ø¨ÙÙŠÙÙ‘
                </div>
                <div class="quran-source" id="quranSource">(Ø§Ù„Ø£Ø­Ø²Ø§Ø¨ 56)</div>
            </div>

            <!-- Ø¨Ø·Ø§Ù‚Ø© Ù…Ø¤Ù‚Øª/Ø¹Ø¯Ø§Ø¯ -->
            <div class="extra-card" style="animation-delay: 0.6s;">
                <div class="card-title">
                    <span>â³</span>
                    <span>Ù…Ø¤Ù‚Øª Ø¹ÙƒØ³ÙŠ</span>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 3rem; font-weight: 700; margin: 20px 0;" id="countdown">05:00</div>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button onclick="startCountdown(300)" style="background: var(--primary); border: none; color: white; padding: 10px 20px; border-radius: 50px; cursor: pointer;">5 Ø¯Ù‚Ø§Ø¦Ù‚</button>
                        <button onclick="startCountdown(600)" style="background: var(--secondary); border: none; color: white; padding: 10px 20px; border-radius: 50px; cursor: pointer;">10 Ø¯Ù‚Ø§Ø¦Ù‚</button>
                        <button onclick="stopCountdown()" style="background: #ef4444; border: none; color: white; padding: 10px 20px; border-radius: 50px; cursor: pointer;">Ø¥ÙŠÙ‚Ø§Ù</button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Â© 2026 Ø¨Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…Ù„ Ø¢Ù†ÙŠØ§Ù‹ Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª</p>
        </footer>
    </div>

    <!-- JavaScript Ø§Ù„Ù…ØªØ·ÙˆØ± Ù…Ø¹ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª -->
    <script>
        (function() {
            "use strict";

            // ==================== 1. Ø§Ù„Ù…Ø°ÙƒØ±Ø© ====================
            let notes = JSON.parse(localStorage.getItem('smartNotes')) || [];
            const notesList = document.getElementById('notesList');
            const noteInput = document.getElementById('noteInput');
            const addNoteBtn = document.getElementById('addNoteBtn');

            function renderNotes() {
                notesList.innerHTML = '';
                notes.forEach((note, index) => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span>${note}</span>
                        <button class="delete-note" onclick="deleteNote(${index})">Ã—</button>
                    `;
                    notesList.appendChild(li);
                });
                localStorage.setItem('smartNotes', JSON.stringify(notes));
            }

            window.deleteNote = function(index) {
                notes.splice(index, 1);
                renderNotes();
            };

            addNoteBtn.addEventListener('click', () => {
                const text = noteInput.value.trim();
                if (text) {
                    notes.push(text);
                    noteInput.value = '';
                    renderNotes();
                }
            });

            noteInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addNoteBtn.click();
                }
            });

            renderNotes();

            // ==================== 2. Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ====================
            const calcResult = document.getElementById('calc-result');

            window.appendToCalc = function(value) {
                if (calcResult.value === '0' && value !== '.') {
                    calcResult.value = value;
                } else {
                    calcResult.value += value;
                }
            };

            window.clearCalc = function() {
                calcResult.value = '0';
            };

            window.calculateResult = function() {
                try {
                    calcResult.value = eval(calcResult.value) || '0';
                } catch {
                    calcResult.value = 'Ø®Ø·Ø£';
                }
            };

            // ==================== 3. Ø³Ø§Ø¹Ø© Ù…ÙƒØ© ====================
            function updateMakkahTime() {
                const now = new Date();
                // ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© = UTC+3
                const makkahTime = new Date(now.getTime() + (now.getTimezoneOffset() * 60000) + (3 * 3600000));
                
                const hours = makkahTime.getUTCHours().toString().padStart(2, '0');
                const minutes = makkahTime.getUTCMinutes().toString().padStart(2, '0');
                const seconds = makkahTime.getUTCSeconds().toString().padStart(2, '0');
                
                document.getElementById('makkahClock').textContent = `${hours}:${minutes}:${seconds}`;
                
                // Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ù…Ø­Ø§ÙƒØ§Ø© - ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ØªØ³ØªØ®Ø¯Ù… API)
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('makkahDate').textContent = makkahTime.toLocaleDateString('ar-SA', options);
            }

            // Ø£ÙˆÙ‚Ø§Øª ØµÙ„Ø§Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ© (ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø¹Ø¨Ø± API)
            const prayerTimes = [
                { name: 'Ø§Ù„ÙØ¬Ø±', time: '04:12' },
                { name: 'Ø§Ù„Ø´Ø±ÙˆÙ‚', time: '05:38' },
                { name: 'Ø§Ù„Ø¸Ù‡Ø±', time: '12:15' },
                { name: 'Ø§Ù„Ø¹ØµØ±', time: '15:45' },
                { name: 'Ø§Ù„Ù…ØºØ±Ø¨', time: '18:52' },
                { name: 'Ø§Ù„Ø¹Ø´Ø§Ø¡', time: '20:15' }
            ];

            function renderPrayerTimes() {
                const container = document.getElementById('prayerTimes');
                container.innerHTML = '';
                prayerTimes.forEach(prayer => {
                    const div = document.createElement('div');
                    div.className = 'prayer-item';
                    div.innerHTML = `
                        <div class="prayer-name">${prayer.name}</div>
                        <div class="prayer-time">${prayer.time}</div>
                    `;
                    container.appendChild(div);
                });
            }

            setInterval(updateMakkahTime, 1000);
            updateMakkahTime();
            renderPrayerTimes();

            // ==================== 4. Ø§Ù„Ø·Ù‚Ø³ (Ù…Ø­Ø§ÙƒØ§Ø©) ====================
            // ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ØªØ³ØªØ®Ø¯Ù… API Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ø«Ù„ OpenWeatherMap
            const weatherIcons = ['â˜€ï¸', 'â›…', 'â˜ï¸', 'ğŸŒ§ï¸', 'â›ˆï¸'];
            const weatherDescs = ['Ù…Ø´Ù…Ø³', 'ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹', 'ØºØ§Ø¦Ù…', 'Ù…Ù…Ø·Ø±', 'Ø¹Ø§ØµÙØ©'];
            
            function updateWeather() {
                const random = Math.floor(Math.random() * 5);
                document.getElementById('weatherIcon').textContent = weatherIcons[random];
                document.getElementById('weatherDesc').textContent = weatherDescs[random];
                document.getElementById('weatherTemp').textContent = Math.floor(Math.random() * 10 + 35) + 'Â°';
            }
            
            setInterval(updateWeather, 10000);
            updateWeather();

            // ==================== 5. Ø¢ÙŠØ© Ø§Ù„Ù‚Ø±Ø¢Ù† ====================
            const ayahs = [
                { text: 'Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙÙ…ÙÙ„ÙØ§Ø¦ÙÙƒÙØªÙÙ‡Ù ÙŠÙØµÙÙ„ÙÙ‘ÙˆÙ†Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù†ÙÙ‘Ø¨ÙÙŠÙÙ‘', source: 'Ø§Ù„Ø£Ø­Ø²Ø§Ø¨ Ù¥Ù¦' },
                { text: 'Ø±ÙØ¨ÙÙ‘ Ø§Ø´Ù’Ø±ÙØ­Ù’ Ù„ÙÙŠ ØµÙØ¯Ù’Ø±ÙÙŠ ÙˆÙÙŠÙØ³ÙÙ‘Ø±Ù’ Ù„ÙÙŠ Ø£ÙÙ…Ù’Ø±ÙÙŠ', source: 'Ø·Ù‡ Ù¢Ù¥-Ù¢Ù¦' },
                { text: 'ÙˆÙÙ…ÙØ§ ØªÙÙˆÙ’ÙÙÙŠÙ‚ÙÙŠ Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙØ§Ù„Ù„ÙÙ‘Ù‡Ù', source: 'Ù‡ÙˆØ¯ Ù¨Ù¨' },
                { text: 'Ø¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§', source: 'Ø§Ù„Ø´Ø±Ø­ Ù¦' }
            ];
            
            function updateAyah() {
                const random = Math.floor(Math.random() * ayahs.length);
                document.getElementById('quranAyah').textContent = ayahs[random].text;
                document.getElementById('quranSource').textContent = `(${ayahs[random].source})`;
            }
            
            setInterval(updateAyah, 15000);
            updateAyah();

            // ==================== 6. Ù…Ø¤Ù‚Øª Ø¹ÙƒØ³ÙŠ ====================
            let countdownInterval;
            let countdownSeconds = 300; // 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø§ÙØªØ±Ø§Ø¶ÙŠ

            function updateCountdownDisplay() {
                const mins = Math.floor(countdownSeconds / 60).toString().padStart(2, '0');
                const secs = (countdownSeconds % 60).toString().padStart(2, '0');
                document.getElementById('countdown').textContent = `${mins}:${secs}`;
            }

            window.startCountdown = function(seconds) {
                stopCountdown();
                countdownSeconds = seconds;
                updateCountdownDisplay();
                countdownInterval = setInterval(() => {
                    if (countdownSeconds > 0) {
                        countdownSeconds--;
                        updateCountdownDisplay();
                    } else {
                        stopCountdown();
                        alert('â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!');
                    }
                }, 1000);
            };

            window.stopCountdown = function() {
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                    countdownInterval = null;
                }
            };

            updateCountdownDisplay();

            // ==================== 7. Service Worker Ù„Ù„ØªØ«Ø¨ÙŠØª (PWA) ====================
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').catch(console.log);
            }

        })();
    </script>

    <!-- Service Worker Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:application/javascript,' + encodeURIComponent(`
                self.addEventListener('install', e => e.waitUntil(self.skipWaiting()));
                self.addEventListener('activate', e => e.waitUntil(self.clients.claim()));
                self.addEventListener('fetch', e => e.respondWith(fetch(e.request).catch(() => caches.match(e.request))));
            `));
        }
    </script>
</body>
</html>
